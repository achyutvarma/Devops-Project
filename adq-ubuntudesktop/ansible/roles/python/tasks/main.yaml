---
- name: Update package
  command: apt update
  when: playbook == "apply"

- name: Install Python3
  apt:
    name: python3
    state: present
  when: playbook == "apply"

- name: Install pip for Python3
  apt:
    name: python3-pip
    state: present
  when: playbook == "apply"
    
- name: Uninstall pip for Python3
  apt:
    name: python3-pip
    state: absent
  when: playbook == "destroy"

- name: Uninstall Python3
  apt:
    name: python3
    state: absent
  when: playbook == "destroy"
